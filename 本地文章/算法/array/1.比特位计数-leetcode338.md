# 比特位计数-leetcode338

<a href="https://leetcode-cn.com/problems/counting-bits/" target="_blank">比特位计数</a>

给你一个整数 `n` ，对于 `0 <= i <= n` 中的每个 `i` ，计算其二进制表示中 **`1` 的个数** ，返回一个长度为 `n + 1` 的数组 `ans` 作为答案。



**示例：**

```js
输入：n = 2
输出：[0,1,1]
解释：
0 --> 0
1 --> 1
2 --> 10
```



**思路：**

x & (x - 1) 可以看做是去掉 x 二进制表示中，最后一位 1 的操作

即 f(x) = (f(x & (x - 1))) + 1

x 的二进制 1 的个数，可以看做是 x & (x - 1) 的二进制 1 的个数加上 1

假设 x 为  1736 即 `11011001000`

|  x   |  1   |  1   |  0   |  1   |  1   |  0   |  0   |  1   |  0   |  0   |  0   |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
| x-1  |  1   |  1   |  0   |  1   |  1   |  0   |  0   |  0   |  1   |  1   |  1   |

x & (x - 1) 的二进制表示为：11011000000，相比于之前的 x ，少了一个 1



```js
var countBits = function(num) {
  let ans = [0];
  for(let i=1; i<=num; i++) {
    ans[i] = ans[i & (i - 1)] + 1;
  }
  
}
```

